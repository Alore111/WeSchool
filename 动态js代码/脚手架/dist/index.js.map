<<<<<<< HEAD
{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAVA;;;;;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvBA;AACA;;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;AAYA;;;AAGA;AAAA;;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;;AAIA;;;AAGA;AApQA;AA0QA;AACA","sources":["webpack://test/./dist/util/公式/Formula.js","webpack://test/webpack/bootstrap","webpack://test/./dist/index.js"],"sourcesContent":["\r\n//在js前端进行运算实在太复杂了这里实在封装数组运算的函数。\r\n//求和\r\nsum=(x)=>{\r\n  let val = 0\r\n  for(var i=0;i<x.length;i++){\r\n    val = val+x[i]\r\n  }\r\n  return val\r\n}\r\n//数组相乘\r\nMulti_array = (x,y)=>{\r\n  res = []\r\n  for (var i = 0;i<x.length;i++){\r\n  res[i] = x[i]*y[i]\r\n  }\r\n  return res\r\n}\r\n//数组相除\r\nexcept_array = (x,y)=>{\r\n  res=[]\r\n  for(var i=0;i<x.length;i++){\r\n      res[i] = x[i]/y[i]\r\n  }\r\n  return res\r\n}\r\n//数组相求幂\r\npow_array = (x,n)=>{\r\n  let res=[]\r\n  for(var i=0;i<x.length;i++){\r\n      res[i] = Math.pow(x[i],n)\r\n\r\n  }\r\n  return res\r\n}\r\n//数组求根号\r\nsqrt_array = (x,n)=>{\r\n  let res=[]\r\n  for(var i=0;i<x.length;i++){\r\n      res[i] = Math.pow(x[i],1/n)\r\n\r\n  }\r\n  return res\r\n}\r\n//开始间接不确定度的计算\r\n\r\n\r\n//x+y\r\nadd_u=(ux,uy)=>{\r\n  return Math.sqrt(ux**2+uy**2)\r\n}\r\n\r\n//N=x*y\r\nmultiply_u=(ux,uy,x,y)=>{\r\n  let  N = sum(Multi_array(x,y))/x.length\r\n  x_ = sum(x)/x.length\r\n  y_ = sum(y)/y.length\r\n  return Math.sqrt((ux/x_)**2+(uy/y_)**2)*N\r\n}\r\n\r\n//N=x/y\r\nexpect_u=(ux,uy,x,y)=>{\r\n  let  N = sum(except_array(x,y))/x.length\r\n  x_ = sum(x)/x.length\r\n  y_ = sum(y)/y.length\r\n  return Math.sqrt((ux/x_)**2+(uy/y_)**2)*N\r\n}\r\n//N = kx\r\nlinear_u=(ux,k)=>{\r\n  return Math.abs(k)*ux\r\n}\r\n//N = X的n次方\r\npow_u=(ux,x,n)=>{\r\n  let u_N = (n*ux)/(sum(x)/x.length)\r\n  let N_ = pow_array(x,n)\r\n  return u_N*N_\r\n}\r\n//N=X的n次根\r\nsqrt_u=(ux,x,n)=>{\r\n  let u_N = (1/n*ux)/(sum(x)/x.length)\r\n  let N_ = pow_array(x,n)\r\n  return u_N*N_\r\n}\r\n//N=(X的p次方y的q次方)/z的r次方\r\n//好复杂先放弃了，正常实验也不会这种计算量吧\r\n\r\n// complicate_u=(x,y,z,p,q,r)=>{\r\n\r\n// }\r\n//N=sinx\r\nsin_u=(ux,x)=>{\r\n  let x_ = sum(x)/x.length\r\n  return Math.abs(Math.cos(x_)*ux)\r\n}\r\n//N=lnx\r\nlnx_u=(ux,x)=>{\r\n  return ux/(sum(x)/x.length)\r\n}\r\nmodule.exports = {\r\n  add_u,\r\n  multiply_u,\r\n  expect_u,\r\n  linear_u,\r\n  pow_u,\r\n  sqrt_u,\r\n  sin_u,\r\n  lnx_u\r\n\r\n  // setStarAndComment\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","function runCode(){\n              var util = require(\"../dist/util/公式/Formula\")\r\n\r\n  \n            \n            var Page = function(page){\n              return page\n            }\n          return Page({\n            \n            parseTag(tag) {\n              let res = {\n                  type1: \"tag\",\n                  name: \"\",\n                  voidElement: false,\n                  // attrs: {},\n                  children: [],\n              };\n              let tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/);\n              if (tagMatch) {\n                  // 标签名称为正则匹配的第2项\n                  res.type1 = tagMatch[1];\n                  if (tag.charAt(tag.length - 2) === \"/\") {\n                      // 判断tag字符串倒数第二项是不是 / 设置为空标签。 例子：<img/>\n                      res.voidElement = true;\n                  }\n              }\n              // 匹配所有的标签正则\n              let classList = tag.match(/\\s([^'\"/\\s><]+?)\\s*?=\\s*?(\".*?\"|'.*?')/g);\n            \n              if (classList) {\n                let style = ''\n                  for (let i = 0; i < classList.length; i++) {\n                      // 去空格再以= 分隔字符串  得到['属性名称','属性值']\n             \n                      let c = classList[i].split(\"=\");\n                      // c[1] = c[1].replace(/\\s*/g, \"\")\n                      c[0] = c[0].replace(/\\s*/g, \"\")\n                      // 循环设置属性\n                      var lengthc = 2\n                      for(lengthc; lengthc < c.length ; lengthc++){\n                        c[1] += \"=\" + c[lengthc]\n                      }\n                      let p = c[1].substring(1, c[1].length - 1)\n                      try{\n                        p = JSON.parse(c[1].substring(1, c[1].length - 1))\n                      }catch(e){\n                       \n                      }\n            \n                      if (c[1]) {\n                        if(c[0] === 'style'){\n                          style = ';' + p + style \n                          res[c[0]] = style\n                        }else{\n                          res[c[0]] = p\n                        }\n                \n                      };\n            \n                  }\n              }\n              return res;\n            },\n            \n            parse(html) {\n              var that = this;\n              let result = [];\n              let current;\n              let level = -1;\n              let arr = [];\n              let tagRE = /<[a-zA-Z\\-\\!\\/](?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])*>/g;\n              html.replace(tagRE, function (tag, index) {\n                  // 判断第二个字符是不是'/'来判断是否open\n                  let isOpen = tag.charAt(1) !== \"/\";\n                  // 获取标签末尾的索引\n                  let start = index + tag.length;\n                  // 标签之前的文本信息\n                  let text = html.slice(start, html.indexOf(\"<\", start));\n            \n                  let parent;\n                  if (isOpen) {\n                      level++;\n                      // 设置标签属性\n                      current = that.parseTag(tag);\n                      // 判断是否为文本信息，是就push一个text children  不等于'  '\n                      if (!current.voidElement && text.trim()) {\n                          current[\"text\"] = text\n                      }\n                      // 如果我们是根用户，则推送新的基本节点\n                      if (level === 0) {\n                          result.push(current);\n                      }\n                      // 判断有没有上层，有就push当前标签\n                      parent = arr[level - 1];\n                      if (parent) {\n                          parent.children.push(current);\n                      }\n                      // console.log(current)\n                      arr[level] = current;\n                  }\n                  // 如果不是开标签，或者是空元素：</div><img>\n                  if (!isOpen || current.voidElement) {\n                      // level--\n                      level--;\n                  }\n              });\n              // console.log(result)\n              return result;\n            \n            },\n          setdata: function setdata(dictData) {\n            \n            for(var i in dictData){\n              this.data[i] = dictData[i]\n            }\n            var html = `<view class=\"page\" style=\"background-color: rgba(244,244,244,0.6); height: 100%; position: fixed; width: 100%; z-index: -1;\">  <view class=\"containers\" style=\"margin: 10rpx;\">    <view class=\"title\" style=\"color: rgba(16,16,16,0.5); font-weight: 800; margin: 20rpx 0rpx; text-align: center;\">间接不确定度的计算</view>    <picker mode=\"selector\" range=\"${typeof this.data.multiArray === \"object\" ? JSON.stringify( this.data.multiArray) : this.data.multiArray}\" value=\"${typeof this.data.multiIndex === \"object\" ? JSON.stringify( this.data.multiIndex) : this.data.multiIndex}\" bindchange=\"bindMultiPickerChange\">      <view  ${this.data.dark === 'dark' ? 'style=\"    filter: invert(80%)!important;    /* color:white */  \"' : ''} class=\"title-choose-text\" style=\"background-color: #B2E2F7; border-radius: 10rpx; color: white; display: flex; font-size: 26rpx; justify-content: center; margin-top: 50rpx; padding: 10rpx;\"><text>${typeof this.data.instrument_name === \"object\" ? JSON.stringify( this.data.instrument_name) : this.data.instrument_name}</text>        <image class=\"title-choose-image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABfpJREFUeF7t3OeTVEUUxuG+JsSMYk6omMqcc8SACgYU+BsVc84551hiRjDnnLWt1neq1imHOXNu9723z3n5Zrl9Z875PdvsLmgT+Mv1BhrX03P4QADOERAAATjfgPPxeQMQgPMNOB+fNwABON+A8/F5AxCA8w04H583AAE434Dz8XkDEIDzDTgfnzcAATjfgPPxeQMQgPMNOB+fNwABON+A8/F5AxCA8w04H583AAE434Dz8XkDEIDzDTgfnzcAATjfgPPxeQMQgPMNOB+fNwABON+A8/F5AxCA8w04H583AAE434Dz8XkDEIDzDTgfnzcAATjfgPPxi90AMcaVIYSVTdOscr7jVuPHGK8JIaxpmmZNqwdNOFwEAOKnN55+pTdPBIp6iJ8+kdKvVSUQZAcwFn80NhHMCGAs/uh0dgRZAUyITwR54hdBkA3AlPhEIEQw4TN//HS2myAngKvS7/eCOfnbwYQlCeOn0+mL62sFu576IdkApFeKMSYE6Yu/ac8lgrE0wvgRXwxmiZ/ewrRQUwWNf0CM8Uog2GTKYSLAgoTx/0L862aOspED2QHgJlgBBJsSwcY3IIz/J+JfnzN+kRtg9AZjjFcAwWZE8P8bEMb/A/FvyB2/KADcBJcDweZE8N8NCOP/jvg3lohfHAAQXAYEWxDBvxsQxv8N8W8qFb8TABj4UiCY5x2BMP6viH9zyfidAQCC5UCwpVcEwvi/IP4tpeN3CgAIlgHBfG8IhPF/Rvxbu4jfOQAguAQItvKCQBj/J8S/rav4vQAAgouBYGvrCITxf0T827uM3xsAILgICLaxikAY/wfEv6Pr+L0CAIKlQLCtNQTC+N+HEFY3TdNL/N4BAMGFQLCdFQTC+N8h/p19fOaPXrPInwXMOlCM8QIg2L52BML43yL+XbPuKvfHDwIAboLzgWCHWhEI43+D+Hfnjql53mAAzEFwdQhhQW0IhPG/Rvx7NLFKnBkUACA4L4SQEOxYCwJh/K8Q/94SIbXPHBwAIFgCBDsNHcEM8dPf47tPG6rUuUECAIJzgWDhUBEI43+J7/PvLxWxzXMHCwAIzsEXhoNDIIz/BeI/0CZSybODBgAEZwPBzkO5CYTxP0f8B0sGbPvswQMAgrOAYJe+EQjjf4b4D7UNVPp8FQCA4Ewg2LUvBML4nyL+w6Xj5Xh+NQCA4Awg2K1rBML4n+BbvSripx1WBQAITgeC3btCIIz/MeI/kuMzs6tnVAcACE4Dgj1KIxDG/wjxH+0qXK7XqRIAEJwKBHuWQiCM/yHiP5YrSpfPqRbAHATpx8Z75UYgjP8B4j/eZbScr1U1ACA4BT8x3DsXAmH8DYj/RM4gXT+regBAcDIQ7NMWgTD+esR/sutguV/PBAAgOAkI9tUiEMZ/H/Gfyh2jj+eZAQAEJwLBolkRCOOvQ/yn+4hV4jVNAQCCE4BgPykCYfz3EP+ZEiH6eqY5AEBwPBDsPw0B/v3of8U26cPfRfxn+wpV6nVNAgCC44DggJbLS/HTX+Z4ruVzBnncLAAgOBYIFiu3/w4+803GTzsxDQAIjgGCA2dE8DbiPz/juao+3DwAIDgaPzaWIngL8V+oqqbizboAMAdB+rHxQVP29Cbiv6jYZ3VH3AAAgqPw28HBE0q9gfgvVVdS+YZdAQCCI4HgkLGdrUX8l5W7rPKYOwBAcAQQHIpqryP+K1VWbPGmXQIAgsOBIP1j+k+0X22xx2qPugUABIf9871w07xWbcGWb9w1gJa7M3GcAExk1A9BAPrdmThJACYy6ocgAP3uTJwkABMZ9UMQgH53Jk4SgImM+iEIQL87EycJwERG/RAEoN+diZMEYCKjfggC0O/OxEkCMJFRPwQB6Hdn4iQBmMioH4IA9LszcZIATGTUD0EA+t2ZOEkAJjLqhyAA/e5MnCQAExn1QxCAfncmThKAiYz6IQhAvzsTJwnAREb9EASg352JkwRgIqN+CALQ787ESQIwkVE/BAHod2fiJAGYyKgfggD0uzNxkgBMZNQPQQD63Zk4SQAmMuqH+BteQvGQc4JfHAAAAABJRU5ErkJggg==\" style=\"height: 28rpx; margin-left: 10rpx; vertical-align: middle; width: 28rpx;\"></image>      </view>    </picker>    ${typeof this.data.show === \"object\" ? JSON.stringify( this.data.show) : this.data.show ? `<view style=\"sec\"  style=\"margin-top: 50rpx;\">      <view class=\"sec_title\" style=\"color: rgba(16,16,16,0.5); font-size: 28rpx; font-weight: 800;\">实验数据输入</view>      <view>        <input type=\"text\" id=\"x_value\" value=\"${typeof this.data.x_value === \"object\" ? JSON.stringify( this.data.x_value) : this.data.x_value}\" bindinput=\"computer_input\" placeholder=\"请输入公式中x的实验数据，以空格分开\" style=\"border: 1rpx solid rgba(187,187,187,0.3); border-radius: 10rpx; font-size: 24rpx; height: 70rpx; margin: 20rpx; padding: 0rpx 15rpx;\"></input>      </view>      <view>        <input type=\"text\" id=\"y_value\" value=\"${typeof this.data.y_value === \"object\" ? JSON.stringify( this.data.y_value) : this.data.y_value}\" bindinput=\"computer_input\" placeholder=\"请输入公式中y的实验数据，以空格分开\" style=\"border: 1rpx solid rgba(187,187,187,0.3); border-radius: 10rpx; font-size: 24rpx; height: 70rpx; margin: 20rpx; padding: 0rpx 15rpx;\"></input>      </view>    </view>`: `1`}q    <view class=\"third\" style=\"margin-top: 50rpx;\">      <view class=\"third_title\" style=\"color: rgba(16,16,16,0.5); font-size: 28rpx; font-weight: 800;\">参数输入</view>      <view class=\"third-input\" style=\"align-items: center; display: flex; font-size: 24rpx; margin: 20rpx;\">        <text class=\"describe\" style=\"white-space: nowrap;\">x的不确定度：</text>        <input type=\"text\" style=\"third_input_1\" id=\"uncertain_x\" value=\"${typeof this.data.uncertain_x === \"object\" ? JSON.stringify( this.data.uncertain_x) : this.data.uncertain_x}\" placeholder=\"请输入公式中x的不确定度\" bindinput=\"computer_input\" style=\"border: 1rpx solid rgba(187,187,187,0.3); border-radius: 10rpx; font-size: 24rpx; height: 70rpx; margin: 20rpx; margin-bottom: 0rpx; margin-right: 0rpx; margin-top: 0rpx; padding: 0rpx 15rpx; width: 100%;\"></input>      </view>      <view class=\"third-input\" style=\"align-items: center; display: flex; font-size: 24rpx; margin: 20rpx;\">        <text class=\"describe\" style=\"white-space: nowrap;\">y的不确定度：</text>        <input placeholder=\"请输入公式中y的不确定度\" id=\"uncertain_y\" value=\"${typeof this.data.uncertain_y === \"object\" ? JSON.stringify( this.data.uncertain_y) : this.data.uncertain_y}\" class=\"third_input_2\" bindinput=\"computer_input\" type=\"text\" style=\"border: 1rpx solid rgba(187,187,187,0.3); border-radius: 10rpx; font-size: 24rpx; height: 70rpx; margin: 20rpx; margin-bottom: 0rpx; margin-right: 0rpx; margin-top: 0rpx; padding: 0rpx 15rpx; width: 100%;\"></input>      </view>    </view>    <view class=\"end\" style=\"color: rgba(16,16,16,0.5); display: flex; font-size: 28rpx; font-weight: 800; margin-right: 20rpx; margin-top: 50rpx;\">      <text class=\"end_text\" style=\"margin-right: 20rpx;\">间接不确定度</text>      <view class=\"line\" style=\"border-bottom: 1rpx solid rgba(144,144,144,0.3); color: black; display: flex; font-size: 24rpx; font-weight: 100; justify-content: center; margin-top: 10rpx; position: absolute; right: 30rpx; vertical-align: baseline; width: 65%;\">${typeof this.data.computer_value === \"object\" ? JSON.stringify( this.data.computer_value) : this.data.computer_value}</view>    </view>    <view  ${this.data.dark === 'dark' ? 'style=\"    filter: invert(80%)!important;    /* color:\"\" */  \"' : ''} class=\"submit\" bindtap=\"sumbit\" style=\"background-color: #A1DFCD; border-radius: 10rpx; color: white; font-weight: 800; margin: 0 auto; margin-top: 50rpx; padding: 10rpx; text-align: center; width: 30%;\">      计算          </view>  </view></view>`\n            this.setData({html : this.parse(html)});\n          },\n            \r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    multiArray:[\"N = x + y\",\"N = x * y\",\"N = x / y\",\"N = kX\"],\r\n    index:-1,\r\n    instrument_name:\"请选择使用的公式\",\r\n    show:false, //数据输入的状态\r\n    uncertain_x:\"\",\r\n    uncertain_y:\"\",\r\n    x_value:\"\",\r\n    y_value:\"\",\r\n    computer_value:\"NAN\"\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (options) {options = this.options; this.data.dark =wx.getSystemInfoSync().theme; wx.onThemeChange(e => {console.log(e.theme);this.setdata({dark: e.theme})}); this.setdata();\r\n    \r\n\r\n  },\r\n  //校验数据类型\r\n    //提交表单前的数据处理\r\n \r\n   checkoutData:function(check_value,type) {\r\n    if(type == \"number\"){\r\n      if(isNaN(Number(check_value))){\r\n        return \"输入格式错误\"\r\n      }\r\n      else{\r\n        return Number(check_value)\r\n      }\r\n    }\r\n    if(type==\"array\"){\r\n      let value =check_value.split(\" \")\r\n      console.log(value)\r\n      let res = []\r\n      let flag = 0\r\n      value.forEach(element => {\r\n        if(isNaN(Number(element))){\r\n          flag=1        \r\n        }\r\n      res.push(Number(element))\r\n    });\r\n    if(flag==1){\r\n      return \"数据输入框格式错误\"\r\n    }\r\n    else{\r\n      if(res[0]==0){\r\n        return \"您还未输入数据\"\r\n      }\r\n      return res\r\n    }\r\n    }\r\n  },\r\n  computer_input(e){\r\n    console.log(e)\r\n      this.setdata({ [e.target.id]:e.detail.value})\r\n  },\r\n  sumbit(){\r\n    let uncertain_x = this.checkoutData(this.data.uncertain_x,\"number\")\r\n    let uncertain_y = this.checkoutData(this.data.uncertain_y,\"number\")\r\n    let x_value = this.checkoutData(this.data.x_value,\"array\")\r\n    let y_value = this.checkoutData(this.data.y_value,\"array\")\r\n    if(this.data.index==0){\r\n      let res = util.add_u(uncertain_x,uncertain_y)\r\n      console.log(res)\r\n    }\r\n    else if (this.data.index==1){\r\n      let res = util.multiply_u(uncertain_x,uncertain_y,x_value.y_value)\r\n      console.log(res)\r\n    }\r\n    else if(this.data.index==2){\r\n      let res = util.expect_u(uncertain_x,uncertain_y,x_value,y_value)\r\n      console.log(res)\r\n    }\r\n    // else if(this.data.index==3){\r\n\r\n    // }\r\n    // switch (this.data.index){\r\n    //   case 1:\r\n    //     let res = util.add_u(Number(this.data.uncertain_x),Number(this.data.uncertain_y))\r\n    //   case 2:\r\n\r\n    // }\r\n  },\r\n  bindMultiPickerChange: function(e) {\r\n    console.log('picker发送选择改变，携带值为', e.detail.value)\r\n    this.setdata({\r\n      index: e.detail.value,\r\n      instrument_name:this.data.multiArray[e.detail.value]\r\n    })\r\n    console.log(e.detail.value)\r\n    if(this.data.index==0){\r\n      this.setdata({show:false})\r\n    }\r\n    else if(this.data.index==1||2){\r\n      this.setdata({show:true})\r\n    }\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面初次渲染完成\r\n   */\r\n  onReady: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面显示\r\n   */\r\n  onShow: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面隐藏\r\n   */\r\n  onHide: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面卸载\r\n   */\r\n  onUnload: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 页面相关事件处理函数--监听用户下拉动作\r\n   */\r\n  onPullDownRefresh: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 页面上拉触底事件的处理函数\r\n   */\r\n  onReachBottom: function () {\r\n    \r\n  },\r\n\r\n  /**\r\n   * 用户点击右上角分享\r\n   */\r\n  onShareAppMessage: function () {\r\n    \r\n  }\r\n})\n      \n      \n        }\n            window.exports = runCode;\n        \n            "],"names":[],"sourceRoot":""}
=======
{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAPA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhrBA;AAkrBA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;;AAEA;;;AAGA;AAAA;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAdA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;AASA;AACA;AADA;AAGA;AA1DA;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AApBA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AApBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAziCA;AA6iCA;AACA","sources":["webpack://test/./dist/index.js"],"sourcesContent":["function runCode(){\n              \r\n  \n            \n            var Page = function(page){\n              return page\n            }\n          return Page({\n            \n            parseTag(tag) {\n              let res = {\n                  type1: \"tag\",\n                  name: \"\",\n                  voidElement: false,\n                  // attrs: {},\n                  children: [],\n              };\n              let tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/);\n              if (tagMatch) {\n                  // 标签名称为正则匹配的第2项\n                  res.type1 = tagMatch[1];\n                  if (tag.charAt(tag.length - 2) === \"/\") {\n                      // 判断tag字符串倒数第二项是不是 / 设置为空标签。 例子：<img/>\n                      res.voidElement = true;\n                  }\n              }\n              // 匹配所有的标签正则\n              let classList = tag.match(/\\s([^'\"/\\s><]+?)\\s*?=\\s*?(\".*?\"|'.*?')/g);\n            \n              if (classList) {\n                let style = ''\n                  for (let i = 0; i < classList.length; i++) {\n                      // 去空格再以= 分隔字符串  得到['属性名称','属性值']\n             \n                      let c = classList[i].split(\"=\");\n                      // c[1] = c[1].replace(/\\s*/g, \"\")\n                      c[0] = c[0].replace(/\\s*/g, \"\")\n                      // 循环设置属性\n                      var lengthc = 2\n                      for(lengthc; lengthc < c.length ; lengthc++){\n                        c[1] += \"=\" + c[lengthc]\n                      }\n                      let p = c[1].substring(1, c[1].length - 1)\n                      try{\n                        p = JSON.parse(c[1].substring(1, c[1].length - 1))\n                      }catch(e){\n                       \n                      }\n            \n                      if (c[1]) {\n                        if(c[0] === 'style'){\n                          style = ';' + p + style \n                          res[c[0]] = style\n                        }else{\n                          res[c[0]] = p\n                        }\n                \n                      };\n            \n                  }\n              }\n              return res;\n            },\n            \n            parse(html) {\n              var that = this;\n              let result = [];\n              let current;\n              let level = -1;\n              let arr = [];\n              let tagRE = /<[a-zA-Z\\-\\!\\/](?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])*>/g;\n              html.replace(tagRE, function (tag, index) {\n                  // 判断第二个字符是不是'/'来判断是否open\n                  let isOpen = tag.charAt(1) !== \"/\";\n                  // 获取标签末尾的索引\n                  let start = index + tag.length;\n                  // 标签之前的文本信息\n                  let text = html.slice(start, html.indexOf(\"<\", start));\n            \n                  let parent;\n                  if (isOpen) {\n                      level++;\n                      // 设置标签属性\n                      current = that.parseTag(tag);\n                      // 判断是否为文本信息，是就push一个text children  不等于'  '\n                      if (!current.voidElement && text.trim()) {\n                          current[\"text\"] = text\n                      }\n                      // 如果我们是根用户，则推送新的基本节点\n                      if (level === 0) {\n                          result.push(current);\n                      }\n                      // 判断有没有上层，有就push当前标签\n                      parent = arr[level - 1];\n                      if (parent) {\n                          parent.children.push(current);\n                      }\n                      // console.log(current)\n                      arr[level] = current;\n                  }\n                  // 如果不是开标签，或者是空元素：</div><img>\n                  if (!isOpen || current.voidElement) {\n                      // level--\n                      level--;\n                  }\n              });\n              // console.log(result)\n              return result;\n            \n            },\n          setdata: function setdata(dictData) {\n            \n            for(var i in dictData){\n              this.data[i] = dictData[i]\n            }\n            var html = `${typeof this.data.isLoading === \"object\" ? JSON.stringify( this.data.isLoading) : this.data.isLoading ? `<view style=\"remind-box\"  style=\"align-items: center; display: flex; flex: 1; flex-direction: column; justify-content: center;\">  <image class=\"remind-img\" src=\"/images/loading.gif\"></image></view>`: `<view wx:else>  <view  ${this.data.dark === 'dark' ? 'style=\"    filter: invert(90%) !important;  \"' : ''} class=\"map_box\" style=\"bottom: 130px; left: 0px; position: absolute; right: 0px; top: 0px;\">    <map style=\"height: 100%; width: 100%;\" id=\"navi_map\" longitude=\"${typeof this.data.userLongitude === \"object\" ? JSON.stringify( this.data.userLongitude) : this.data.userLongitude}\" latitude=\"${typeof this.data.userLatitude === \"object\" ? JSON.stringify( this.data.userLatitude) : this.data.userLatitude}\" scale=\"18\" markers=\"${typeof this.data.markers === \"object\" ? JSON.stringify( this.data.markers) : this.data.markers}\" polyline=\"${typeof this.data.polyline === \"object\" ? JSON.stringify( this.data.polyline) : this.data.polyline}\" bindmarkertap=\"makertap\" show-location subkey=\"JLHBZ-JQELU-I7HVD-B2XSN-5VU3Z-BZFDK\" enable-3D=\"true\" show-compass>      <cover-view style=\"controls ${typeof this.data.fullscreen === \"object\" ? JSON.stringify( this.data.fullscreen) : this.data.fullscreen?\"wx&class   ;    top  :   82 %   ;  \":\"\"}\" style=\"left: 85%; position: relative; top: 80%;\">        <cover-view>                  </cover-view>        <cover-view bindtap=\"popUp\">          <cover-image class=\"img\" src=\"image/moveSchool.png\" style=\"height: 80rpx; margin-top: 5px; width: 80rpx;\"></cover-image>        </cover-view>        <cover-view bindtap=\"location\">          <cover-image class=\"img\" src=\"image/location.png\" style=\"height: 80rpx; margin-top: 5px; width: 80rpx;\"></cover-image>        </cover-view>      </cover-view>    </map>  </view>    <view class=\"text_box\" style=\"bottom: 0px; height: 130px; left: 0px; position: absolute; right: 0px;\">    <view class=\"text_box_text\" style=\"margin: 15px;\">嘉应学院 (邮编：525000)</view>    <view class=\"text_box_text\" style=\"margin: 15px;\">江北校区：广东省梅州市梅江区梅松路100号</view>    <view class=\"text_box_text\" style=\"margin: 15px;\">江南校区：广东省梅州市梅江区三角镇华南大道19号</view>    <view class=\"text_box_text\" style=\"margin: 15px;\">师范校区：广东省梅州市梅县区程江镇大新西路241号</view>    <view class=\"text_box_text\" style=\"margin: 15px;\">医学院：广东省梅州市梅江区黄塘路146号</view>  </view>  ${typeof this.data.comEdit === \"object\" ? JSON.stringify( this.data.comEdit) : this.data.comEdit ? `<view style=\"EditCom\"  style=\"align-items: center; bottom: 0; display: flex; font-family: unset; justify-content: center; left: 0; position: fixed; right: 0; top: 0; z-index: 9999;\">    <view class=\"EditCom_background\" bindtap=\"popUp\" style=\"align-items: center; background-color: rgba(0, 0, 0, 0.171); bottom: 0; display: flex; font-family: unset; height: 100%; justify-content: center; left: 0; opacity: 0.6; position: fixed; right: 0; top: 0; z-index: 9999;\"></view>    <view style=\"EditCom_contain ${typeof this.data.edit_style === \"object\" ? JSON.stringify( this.data.edit_style) : this.data.edit_style}\" style=\"align-items: center; background-color: rgb(244, 244, 244); border-radius: 20rpx; bottom: 30rpx; display: flex; flex-direction: column; justify-content: center; padding: 0rpx; position: fixed; width: 95%; z-index: 99999;\">    <view class=\"EditCom_Title\" style=\"align-items: center; color: rgba(70, 70, 70, 0.952); display: flex; font-size: 27rpx; justify-content: center; padding: 15rpx;\">校区选择</view>    <picker bindchange=\"bindPickerChange\" value=\"${typeof this.data.index === \"object\" ? JSON.stringify( this.data.index) : this.data.index}\" range=\"${typeof this.data.array === \"object\" ? JSON.stringify( this.data.array) : this.data.array}\">      <view class=\"picker\">        当前选择：${typeof this.data.array[typeof this.data.index === \"object\" ? JSON.stringify( this.data.index) : this.data.index] === \"object\" ? JSON.stringify( this.data.array[typeof this.data.index === \"object\" ? JSON.stringify( this.data.index) : this.data.index]) : this.data.array[typeof this.data.index === \"object\" ? JSON.stringify( this.data.index) : this.data.index]}      </view>    </picker>    </view>  </view>`: `1`}</view>`}`\n            this.setData({html : this.parse(html)});\n          },\n            \r\n\r\n  /**\r\n   * 页面的初始数据\r\n   */\r\n  data: {\r\n    mapHeight: \"800\",\r\n    placeName: \"\",\r\n    hideOrNot: 0,\r\n    activePlaceID: -1,\r\n    markers: [{\r\n      id: 1,\r\n      latitude: 24.276696602909194,\r\n      longitude: 116.11826238028718,\r\n      iconPath: \"../image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '理科楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 2,\r\n      latitude: 24.276202707342065,\r\n      longitude: 116.11729678504182,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '17栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 3,\r\n      latitude: 24.287994546817508,\r\n      longitude: 116.09116305325315,\r\n      iconPath: \"image/shitang.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '梅师超顺饭堂',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 4,\r\n      latitude: 24.287358895845834,\r\n      longitude: 116.08919431183622,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '艺术楼（师范）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 5,\r\n      latitude: 21.653321,\r\n      longitude: 110.815943,\r\n      iconPath: \"image/sushe.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '西南区饭堂',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 6,\r\n      latitude: 24.314904110637062,\r\n      longitude: 116.09845866177366,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '教学楼（医学院）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 7,\r\n      latitude: 24.31473301043974,\r\n      longitude: 116.09653283570097,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '医学基础实验楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 8,\r\n      latitude: 24.288537292435954,\r\n      longitude: 116.08927477810667,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '北门',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 9,\r\n      latitude: 24.288361267084177,\r\n      longitude: 116.09139908764647,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '东门',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 10,\r\n      latitude: 24.324453607827753,\r\n      longitude: 116.12867631415558,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院-梅州市客家研究院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 11,\r\n      latitude: 24.325289488222086,\r\n      longitude: 116.12851001719666,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '正南门',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 12,\r\n      latitude: 24.325739199369874,\r\n      longitude: 116.12793602446747,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院-县域经济研究院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 13,\r\n      latitude: 24.325563225632838,\r\n      longitude: 116.12681486109925,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '大鑫豪文化传媒有限公司（嘉应学院分点）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 14,\r\n      latitude: 24.325431245169813,\r\n      longitude: 116.12662174205018,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '5栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 15,\r\n      latitude: 24.325265047353835,\r\n      longitude: 116.12620331744385,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '4栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 16,\r\n      latitude: 24.325719646745203,\r\n      longitude: 116.12659491996003,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '6栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 17,\r\n      latitude:24.325660988850878,\r\n      longitude: 116.12573124865723,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '2栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 18,\r\n      latitude: 24.325929837310557,\r\n      longitude: 116.125688333313,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '1栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 19,\r\n      latitude: 24.326291559792615,\r\n      longitude: 116.12575807074738,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '7栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 20,\r\n      latitude: 24.325880955814995,\r\n      longitude: 116.12886943320466,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '德龙会堂',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 21,\r\n      latitude: 24.32647730877433,\r\n      longitude: 116.127850193779,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '田家炳科学馆',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 22,\r\n      latitude: 24.32659951190328,\r\n      longitude: 116.12887479762269,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '丽群图书馆',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 23,\r\n      latitude: 24.32688791082026,\r\n      longitude:  116.13116003970337,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '百年纪念大楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 24,\r\n      latitude: 24.326716826796314,\r\n      longitude:  116.12887479762269,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '宪梓艺术馆',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 25,\r\n      latitude: 24.327450042416316,\r\n      longitude:  116.12784482936097,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '中国农业银行（嘉大自助点）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 26,\r\n      latitude: 24.327557580350568,\r\n      longitude:  116.12730838755799,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '水电中心',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 27,\r\n      latitude: 24.327528251832142,\r\n      longitude:  116.12820960978699,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '外国语学院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 28,\r\n      latitude: 24.327586908862276,\r\n      longitude:  116.12881042460633,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院-企业管理研究中心',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 29,\r\n      latitude: 24.328334783616885,\r\n      longitude:  116.12969555358124,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '梅州市计算机学会',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 30,\r\n      latitude: 24.328105044783037,\r\n      longitude:  116.12860121230317,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '中国建设银行（嘉应学院校园e银行）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 31,\r\n      latitude: 24.328285903049025,\r\n      longitude:  116.12773217658234,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '国际会议中心',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 32,\r\n      latitude: 24.3285254176527,\r\n      longitude:  116.12740494708252,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '1A栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 33,\r\n      latitude: 24.3288871327267,\r\n      longitude:  116.12665392855835,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '中1号楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 34,\r\n      latitude: 24.32871116336029,\r\n      longitude:  116.12751223544312,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '田家炳图书馆',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 34,\r\n      latitude: 24.328540081797737,\r\n      longitude:  116.12904645899964,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '世纪广场',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 34,\r\n      latitude: 24.328848028444476,\r\n      longitude:  116.12967946032715,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '宪梓体育馆',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 34,\r\n      latitude: 24.329063101849158,\r\n      longitude:  116.12812914351655,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '黄桂清大楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 34,\r\n      latitude: 24.32954701567515,\r\n      longitude:  116.13159992198182,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '李小平教学楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 34,\r\n      latitude: 24.32924884676876,\r\n      longitude:  116.13028563956452,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '田家炳师范学院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 35,\r\n      latitude: 24.329229294684872,\r\n      longitude:  116.1292020271225,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '钦贞纪念楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 36,\r\n      latitude: 24.329551903684454,\r\n      longitude: 116.12959362963868,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '化学与环境学院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 37,\r\n      latitude: 24.329478583529443,\r\n      longitude:  116.12899281481934,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '5栋（2）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 38,\r\n      latitude: 24.329478583529443,\r\n      longitude:  116.12899281481934,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '5栋（2）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 39,\r\n      latitude: 24.32933683110943,\r\n      longitude:   116.12884261111451,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '中4A宿舍',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 40,\r\n      latitude: 24.329766975894533,\r\n      longitude:  116.12855829695893,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '3栋（2）',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 41,\r\n      latitude: 24.32980119189433,\r\n      longitude: 116.1272922943039,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉大家教在线',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 42,\r\n      latitude: 24.329918503823556,\r\n      longitude:  116.126230139534,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '西门',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 43,\r\n      latitude: 24.330128687424832,\r\n      longitude:  116.12655200461579,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '电子信息工程学院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 45,\r\n      latitude: 24.330236223086477,\r\n      longitude:  116.12668611506653,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '菜鸟驿站',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 46,\r\n      latitude: 24.330182455267405,\r\n      longitude:  116.13023199538422,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院-理想拉链表面技术研究所',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 47,\r\n      latitude: 24.330514837784207,\r\n      longitude:  116.13166429499817,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '易班发展中心',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 48,\r\n      latitude: 24.330549053582025,\r\n      longitude:  116.1311654041214,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '化学实验楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 49,\r\n      latitude: 24.33075434817502,\r\n      longitude:  116.13033928374482,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '15栋',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 50,\r\n      latitude: 24.33119426403993,\r\n      longitude:  116.12868704299164,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '桂英大楼',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 51,\r\n      latitude: 24.330861883305424,\r\n      longitude:  116.12710990409089,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '地理科学与旅游学院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 52,\r\n      latitude: 24.331487540435095,\r\n      longitude:  116.13147654036713,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院东区食堂',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 53,\r\n      latitude: 24.331712385211468,\r\n      longitude:  116.13170721034241,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '学生宿舍',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 54,\r\n      latitude: 24.332235392169498,\r\n      longitude:  116.13144435385895,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院东区学生宿舍9',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 55,\r\n      latitude: 24.332254943789636,\r\n      longitude:  116.1312190483017,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '嘉应学院东区学生宿舍10',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 56,\r\n      latitude: 24.332401580844436,\r\n      longitude:  116.13033928374482,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '北门',\r\n        display: 'ALWAYS'\r\n      }\r\n    }, {\r\n      id: 57,\r\n      latitude: 24.332108306565424,\r\n      longitude:  116.12781264285279,\r\n      iconPath: \"image/jiaoxuelou.png\",\r\n      width: 23,\r\n      height: 24,\r\n      callout: {\r\n        content: '音乐与舞蹈学院',\r\n        display: 'ALWAYS'\r\n      }\r\n    }],\r\n    distance: '',\r\n    cost: '',\r\n    polyline: [],\r\n    // userLongitude: 110.922599,\r\n    // userLatitude: 21.679529,\r\n    userLongitude : 116.12839211437986,\r\n    userLatitude : 24.32836897202351,\r\n    inSchool: false,\r\n    isLoading: false,\r\n    comEdit:false,\r\n    array: ['江北校区', '江南校区', '师范校区', '医学院'],\r\n    index: 0,\r\n  },\r\n  popUp: function () {          //控制弹窗\r\n    var edit_style = 'edit_hide';\r\n    // picker动画样式\r\n    if (edit_style == undefined || edit_style == 'edit_hide') {\r\n      edit_style = 'edit_show'\r\n    } else {\r\n      edit_style = 'edit_hide'\r\n    }\r\n    this.setdata({ \r\n      edit_style,\r\n      comEdit: !this.data.comEdit\r\n    })\r\n  },\r\n\r\n  /**\r\n   * 生命周期函数--监听页面加载\r\n   */\r\n  onLoad: function (e) {options = this.options; this.data.dark =wx.getSystemInfoSync().theme; wx.onThemeChange(e => {console.log(e.theme);this.setdata({dark: e.theme})}); this.setdata();\r\n    var _this = this;\r\n    // wx.showModal({\r\n    //   title: '选择校区',\r\n    //   showCancel: true, //是否显示取消按钮\r\n    //   content: \"请选择校区\",\r\n    //   cancelText: \"西城校区\", //默认是“取消”\r\n    //   confirmText: \"官渡校区\", //默认是“确定”\r\n    //   success: function (res) {\r\n    //     if (res.cancel) {\r\n    //       console.log(233)\r\n    //       _this.setdata({\r\n    //         userLongitude: 110.818019,\r\n    //         userLatitude: 21.654388\r\n    //       })\r\n    //     } else {\r\n          \r\n    //       _this.setdata({\r\n    //         userLongitude: 110.922599,\r\n    //         userLatitude: 21.679529,\r\n    //       })\r\n    //     }\r\n    //   },\r\n    //   fail: function (res) {}, //接口调用失败的回调函数\r\n    //   complete: function (res) {}, //接口调用结束的回调函数（调用成功、失败都会执行）\r\n    // })\r\n    \r\n\r\n    // if (e.markerId !== '' && Object.keys(e).length !== 0) {\r\n    //   _this.makertap(e);\r\n    // }\r\n    _this.popUp()\r\n    wx.getLocation({\r\n      type: 'gcj02', // 默认为 wgs84 返回 gps 坐标，gcj02 返回可用于 wx.openLocation 的坐标  \r\n      success: function (res) {\r\n        _this.setdata({\r\n          userLongitude: res.longitude,\r\n          userLatitude: res.latitude\r\n        })\r\n      }\r\n    })\r\n    \r\n  },\r\n  onReady: function () {\r\n    var that = this;\r\n    setTimeout(function () {\r\n      that.setdata({\r\n        isLoading: false\r\n      });\r\n    }, 800);\r\n\r\n  },\r\n  makertap: function (e) {\r\n    console.log(e)\r\n    var id = e.markerId;\r\n    var that = this;\r\n    wx.getLocation({\r\n      type: 'gcj02', // 默认为 wgs84 返回 gps 坐标，gcj02 返回可用于 wx.openLocation 的坐标  \r\n      success: function (res) {\r\n        that.setdata({\r\n          userLongitude: res.longitude,\r\n          userLatitude: res.latitude\r\n        });\r\n        that.setdata({\r\n          activePlaceID: id,\r\n          placeName: that.data.markers[id].callout.content\r\n        })\r\n        var userLocation = that.data.userLongitude + ',' + that.data.userLatitude;\r\n        var destination = that.data.markers[id].longitude + ',' + that.data.markers[id].latitude;\r\n        that.planPolyline(userLocation, destination);\r\n      }\r\n    })\r\n\r\n  },\r\n  planPolyline: function (origin, destination) {\r\n    var that = this;\r\n    var id = that.data.activePlaceID;\r\n    //规划步行路线\r\n    myAmapFun.getWalkingRoute({\r\n      origin: origin,\r\n      destination: destination,\r\n      success: function (data) {\r\n        var points = [];\r\n        if (data.paths && data.paths[0] && data.paths[0].steps) {\r\n          var steps = data.paths[0].steps;\r\n          for (var i = 0; i < steps.length; i++) {\r\n            var poLen = steps[i].polyline.split(';');\r\n            for (var j = 0; j < poLen.length; j++) {\r\n              points.push({\r\n                longitude: parseFloat(poLen[j].split(',')[0]),\r\n                latitude: parseFloat(poLen[j].split(',')[1])\r\n              })\r\n            }\r\n          }\r\n        }\r\n        that.setdata({\r\n          json: data.paths[0],\r\n          polyline: [{\r\n            points: points,\r\n            color: \"#7acfa6\",\r\n            width: 6\r\n          }]\r\n        });\r\n        if (data.paths[0] && data.paths[0].distance) {\r\n          that.setdata({\r\n            distance: data.paths[0].distance + '米'\r\n          });\r\n        }\r\n        if (data.paths[0] && data.paths[0].duration) {\r\n          that.setdata({\r\n            cost: parseInt(data.paths[0].duration / 60) + '分钟'\r\n          });\r\n        }\r\n        var markers = that.data.markers;\r\n        var points = that.data.polyline[0].points;\r\n        //暂时一共70个坐标点\r\n        markers[22] = {\r\n          id: 22,\r\n          latitude: points[0].latitude,\r\n          longitude: points[0].longitude,\r\n          iconPath: '../..image/mapicon_navi_s.png',\r\n          width: 23,\r\n          height: 33\r\n        };\r\n        markers[23] = {\r\n          id: 23,\r\n          latitude: points[points.length - 1].latitude,\r\n          longitude: points[points.length - 1].longitude,\r\n          iconPath: '../..image/mapicon_navi_e.png',\r\n          width: 24,\r\n          height: 34\r\n        }\r\n\r\n        that.setdata({\r\n          markers: markers,\r\n        })\r\n      },\r\n    })\r\n  },\r\n  location: function () {\r\n    var _this = this\r\n    wx.getLocation({\r\n      type: 'gcj02', // 默认为 wgs84 返回 gps 坐标，gcj02 返回可用于 wx.openLocation 的坐标  \r\n      success: function (res) {\r\n        _this.setdata({\r\n          userLongitude: res.longitude,\r\n          userLatitude: res.latitude\r\n        })\r\n      }\r\n    })\r\n  },\r\n  moveSchool: function () {\r\n    //视图返回学校\r\n    var _this = this;\r\n    wx.showModal({\r\n      title: '选择校区',\r\n      showCancel: true, //是否显示取消按钮\r\n      content: \"请选择校区\",\r\n      cancelText: \"西城校区\", //默认是“取消”\r\n      confirmText: \"官渡校区\", //默认是“确定”\r\n      success: function (res) {\r\n        if (res.cancel) {\r\n          _this.setdata({\r\n            userLongitude: 110.818019,\r\n            userLatitude: 21.654388\r\n          })\r\n        } else {\r\n          _this.setdata({\r\n            userLongitude: 110.922599,\r\n            userLatitude: 21.679529,\r\n          })\r\n        }\r\n      },\r\n      fail: function (res) {}, //接口调用失败的回调函数\r\n      complete: function (res) {}, //接口调用结束的回调函数（调用成功、失败都会执行）\r\n    })\r\n\r\n\r\n  },\r\n  jtt: function () {\r\n    wx.showModal({\r\n      title: '选择校区',\r\n      showCancel: true, //是否显示取消按钮\r\n      content: \"请选择校区\",\r\n      cancelText: \"西城校区\", //默认是“取消”\r\n      confirmText: \"官渡校区\", //默认是“确定”\r\n      success: function (res) {\r\n        if (res.cancel) {\r\n          wx.previewImage({\r\n            current: \"cloud://un1-d62c68.756e-un1-d62c68-1258307938/a.png\", // 当前显示图片的http链接\r\n            urls: [\"cloud://un1-d62c68.756e-un1-d62c68-1258307938/a.png\"]// 需要预览的图片http链接列表\r\n          })\r\n        } else {\r\n          wx.previewImage({\r\n            current: \"cloud://un1-d62c68.756e-un1-d62c68-1258307938/b.png\", // 当前显示图片的http链接\r\n            urls: \"cloud://un1-d62c68.756e-un1-d62c68-1258307938/b.png\" // 需要预览的图片http链接列表\r\n          })\r\n        }\r\n      },\r\n      fail: function (res) {}, //接口调用失败的回调函数\r\n      complete: function (res) {}, //接口调用结束的回调函数（调用成功、失败都会执行）\r\n    })\r\n\r\n  },\r\n  goDetail: function () {\r\n    var that = this;\r\n    const latitude = that.data.markers[that.data.activePlaceID].latitude;\r\n    const longitude = that.data.markers[that.data.activePlaceID].longitude;\r\n    const name = that.data.markers[that.data.activePlaceID].callout.content;\r\n    wx.openLocation({\r\n      latitude,\r\n      longitude,\r\n      name,\r\n      address: '嘉应学院',\r\n      scale: 8\r\n    })\r\n  },\r\n  bindPickerChange: function (e) {\r\n    this.setdata({\r\n      index: e.detail.value\r\n    })\r\n    if (e.detail.value==0){\r\n      this.setdata({\r\n        userLongitude : 116.12839211437986,\r\n        userLatitude : 24.32836897202351\r\n      })\r\n    }else if(e.detail.value==1){\r\n      this.setdata({\r\n        userLongitude : 116.11877202987671,\r\n        userLatitude : 24.276034461207942\r\n      })\r\n    }else if(e.detail.value==2){\r\n      this.setdata({\r\n        userLongitude : 116.09064102172852,\r\n        userLatitude : 24.28710509971846\r\n      })\r\n    }else if(e.detail.value==3){\r\n      this.setdata({\r\n        userLongitude : 116.09776496887207,\r\n        userLatitude : 24.315090341354686\r\n      })\r\n    }\r\n  },\r\n})\n      \n      \n        }\n            window.exports = runCode;\n        \n            "],"names":[],"sourceRoot":""}
>>>>>>> dd9ba3446a7b01a614b9adb0a885d60ab6bc3787
