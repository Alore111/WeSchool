{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAA;AACA;;;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AAAA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AAhDA;AAkDA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;;;AAEA;AAAA;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAvBA;AAyBA;AA9CA;AAgDA;AACA;AACA;AACA;AAFA;AAIA;AAEA;;AA5EA;AAgFA;AACA;;AAEA;AACA;AACA;AAFA;AAIA;AA3FA;AA8FA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AAvZA;AA2ZA;AACA","sources":["webpack://test/./dist/index.js"],"sourcesContent":["function runCode(){\n              // pages/grade/show/show.js\n\n  \n            \n            var Page = function(page){\n              return page\n            }\n          return Page({\n            \n            parseTag(tag) {\n              let res = {\n                  type1: \"tag\",\n                  name: \"\",\n                  voidElement: false,\n                  // attrs: {},\n                  children: [],\n              };\n              let tagMatch = tag.match(/<\\/?([^\\s]+?)[/\\s>]/);\n              if (tagMatch) {\n                  // 标签名称为正则匹配的第2项\n                  res.type1 = tagMatch[1];\n                  if (tag.charAt(tag.length - 2) === \"/\") {\n                      // 判断tag字符串倒数第二项是不是 / 设置为空标签。 例子：<img/>\n                      res.voidElement = true;\n                  }\n              }\n              // 匹配所有的标签正则\n              let classList = tag.match(/\\s([^'\"/\\s><]+?)\\s*?=\\s*?(\".*?\"|'.*?')/g);\n            \n              if (classList) {\n                let style = ''\n                  for (let i = 0; i < classList.length; i++) {\n                      // 去空格再以= 分隔字符串  得到['属性名称','属性值']\n             \n                      let c = classList[i].split(\"=\");\n                      // c[1] = c[1].replace(/\\s*/g, \"\")\n                      c[0] = c[0].replace(/\\s*/g, \"\")\n                      // 循环设置属性\n                      var lengthc = 2\n                      for(lengthc; lengthc < c.length ; lengthc++){\n                        c[1] += \"=\" + c[lengthc]\n                      }\n                      let p = c[1].substring(1, c[1].length - 1)\n                      try{\n                        p = JSON.parse(c[1].substring(1, c[1].length - 1))\n                      }catch(e){\n                       \n                      }\n            \n                      if (c[1]) {\n                        if(c[0] === 'style'){\n                          style = p + style\n                          res[c[0]] = style\n                        }else{\n                          res[c[0]] = p\n                        }\n                \n                      };\n            \n                  }\n              }\n              return res;\n            },\n            \n            parse(html) {\n              var that = this;\n              let result = [];\n              let current;\n              let level = -1;\n              let arr = [];\n              let tagRE = /<[a-zA-Z\\-\\!\\/](?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])*>/g;\n              html.replace(tagRE, function (tag, index) {\n                  // 判断第二个字符是不是'/'来判断是否open\n                  let isOpen = tag.charAt(1) !== \"/\";\n                  // 获取标签末尾的索引\n                  let start = index + tag.length;\n                  // 标签之前的文本信息\n                  let text = html.slice(start, html.indexOf(\"<\", start));\n            \n                  let parent;\n                  if (isOpen) {\n                      level++;\n                      // 设置标签属性\n                      current = that.parseTag(tag);\n                      // 判断是否为文本信息，是就push一个text children  不等于'  '\n                      if (!current.voidElement && text.trim()) {\n                          current[\"text\"] = text\n                      }\n                      // 如果我们是根用户，则推送新的基本节点\n                      if (level === 0) {\n                          result.push(current);\n                      }\n                      // 判断有没有上层，有就push当前标签\n                      parent = arr[level - 1];\n                      if (parent) {\n                          parent.children.push(current);\n                      }\n                      // console.log(current)\n                      arr[level] = current;\n                  }\n                  // 如果不是开标签，或者是空元素：</div><img>\n                  if (!isOpen || current.voidElement) {\n                      // level--\n                      level--;\n                  }\n              });\n              // console.log(result)\n              return result;\n            \n            },\n          setdata: function setdata(dictData) {\n            \n            for(var i in dictData){\n              this.data[i] = dictData[i]\n            }\n            var html = `<view>  <view style=\"head wx-head ${typeof this.data.show === \"object\" ? JSON.stringify( this.data.show) : this.data.show}\" style=\"align-items: center; background-color: #fff; box-shadow: 0px 0px 10px #e2e2e2; display: flex; flex-direction: row; justify-content: space-around; left: 0; line-height: 60rpx; padding: 10rpx 25rpx; padding-bottom: 8rpx; position: fixed; right: 0; z-index: 9;\">    <view class=\"head-time\" style=\"margin-left: 25rpx;\">      <view bindtap=\"show\">        <view class=\"weui-input\" style=\"font-size: 30rpx; font-weight: 600;\">切换时间          <text class=\"iconfont icon-open\" style=\"margin-left: 20rpx;\"></text>        </view>      </view>    </view>    <view class=\"head-title\" style=\"color: coral; flex: 1; margin-right: 25rpx; text-align: right;\">      <view style=\"display: inline-block; font-size: 25rpx; margin-right: 30rpx;\">数量:        <text>${typeof this.data.Totalnumber === \"object\" ? JSON.stringify( this.data.Totalnumber) : this.data.Totalnumber}</text>      </view>    </view>  </view>  <view class=\"main\" style=\"padding: 100rpx 26rpx 30rpx 20rpx;\">    ${typeof this.data.list.length === \"object\" ? JSON.stringify( this.data.list.length) : this.data.list.length==0 ? `<view style=\"wx-isclass\"  style=\"color: #1cbbb4; font-size: 40rpx; margin-top: 30rpx; text-align: center;\">木有哟</view>`: ``}    <view class=\"list\" style=\"margin-bottom: 30rpx;\">      ${this.data.list.map((item, id) =>  ` <view wx:key=\"4\"  wx:for-item=\"item\" wx:for-index=\"id\">        <view class=\"data\" style=\"display: flex;\">          <view class=\"data-adj\" style=\"align-items: center; display: flex; flex-direction: column; justify-content: center; width: 70rpx;\">            <view class=\"upWard\" style=\"background-color: ${typeof id === \"object\" ? JSON.stringify( id) : id==0?\"  #  fff\":\"  #  fff\"}; height: 90rpx; margin: auto; width: 7rpx;\"></view>            <view class=\"dot\" style=\"background-color: ${typeof this.data.color[typeof id === \"object\" ? JSON.stringify( id) : id] === \"object\" ? JSON.stringify( this.data.color[typeof id === \"object\" ? JSON.stringify( id) : id]) : this.data.color[typeof id === \"object\" ? JSON.stringify( id) : id]}; border-radius: 50%; height: 20rpx; margin: auto; width: 20rpx;\"></view>            <view class=\"offWard\" style=\"background-color: #ffffff; height: 55rpx; margin: auto; width: 7rpx;\"></view>          </view>          <view class=\"grade\" style=\"background-color: #fff; border-radius: 50rpx; box-shadow: 0rpx 0rpx 10rpx #e2e2e2; display: flex; flex: 1; margin-top: 25rpx; padding: 20rpx 35rpx;\">            <view class=\"grade-title\">              <view class=\"grade-column\" style=\"font-size: 32rpx; font-weight: 500; line-height: 60rpx; overflow: hidden; text-overflow: elipsis; white-space: nowrap; width: 500rpx;\">${typeof this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].jxcdmc === \"object\" ? JSON.stringify( this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].jxcdmc) : this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].jxcdmc}</view>              <view class=\"grade-rum\" style=\"font-size: 24rpx; line-height: 30rpx; margin-top: 10rpx;\">                <text style=\"color: #8a8a8a; margin-right: 28rpx;\">${typeof this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].xqmc === \"object\" ? JSON.stringify( this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].xqmc) : this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].xqmc}｜${typeof this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].jzwmc === \"object\" ? JSON.stringify( this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].jzwmc) : this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].jzwmc}</text>              </view>            </view>            <view class=\"data-score\" style=\"color: ${typeof this.data.color[typeof id === \"object\" ? JSON.stringify( id) : id] === \"object\" ? JSON.stringify( this.data.color[typeof id === \"object\" ? JSON.stringify( id) : id]) : this.data.color[typeof id === \"object\" ? JSON.stringify( id) : id]}; flex: 1; font-size: 33rpx; margin: auto; margin-left: -170rpx; text-align: right; text-overflow: ellipsis; white-space: nowrap; width: 50rpx;\">该教室有${typeof this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].rnskrs === \"object\" ? JSON.stringify( this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].rnskrs) : this.data.list[typeof id === \"object\" ? JSON.stringify( id) : id].rnskrs}位置</view>          </view>        </view>      </view>`)}    </view>    <text></text>  </view>  ${typeof this.data.block_show === \"object\" ? JSON.stringify( this.data.block_show) : this.data.block_show ? `<view style=\"add \"  style=\"bottom: 0; font-family: unset; left: 0; position: absolute; right: 0; top: 0; z-index: 9999;\">        <view class=\"add_background\" bindtap=\"block_show\" style=\"background-color: #000; bottom: 0; font-family: unset; height: 100%; left: 0; opacity: 0.6; position: absolute; right: 0; top: 0; z-index: 9999;\"></view>    <view style=\"add_contain ${typeof this.data.add_style === \"object\" ? JSON.stringify( this.data.add_style) : this.data.add_style}\" style=\"align-items: center; background-color: #fff; border-radius: 50rpx; bottom: 0; display: flex; flex-direction: column; padding: 50rpx 0; position: fixed; width: 100%; z-index: 99999;\">      <view class=\"add_title\" style=\"font-weight: 600; padding-bottom: 50rpx; size: 18px;\">        <text>课程详情</text>      </view>            <view class=\"add_block\" style=\"align-items: center; background-color: rgb(245, 245, 245); border-radius: 20rpx; display: flex; flex-direction: row; height: 80rpx; margin: 20rpx 0; padding: 0 20rpx; width: 80%;\">        <label style=\"font-size: 14px; font-weight: 600; width: 20%;\">时间</label>        <picker mode=\"date\" start=\"1978-01-01\" end=\"2050-1-23\" bindchange=\"bindDateChange\">          ${typeof this.data.date === \"object\" ? JSON.stringify( this.data.date) : this.data.date}        </picker>      </view>            <view class=\"add_block\" style=\"align-items: center; background-color: rgb(245, 245, 245); border-radius: 20rpx; display: flex; flex-direction: row; height: 80rpx; margin: 20rpx 0; padding: 0 20rpx; width: 80%;\">        <label style=\"font-size: 14px; font-weight: 600; width: 20%;\">校区</label>        <picker value=\"${typeof this.data.campusArrayIndex === \"object\" ? JSON.stringify( this.data.campusArrayIndex) : this.data.campusArrayIndex}\" range=\"${typeof this.data.campusArray === \"object\" ? JSON.stringify( this.data.campusArray) : this.data.campusArray}\" bindchange=\"bindCampushange\">          ${typeof this.data.campusArray[typeof this.data.campusArrayIndex === \"object\" ? JSON.stringify( this.data.campusArrayIndex) : this.data.campusArrayIndex] === \"object\" ? JSON.stringify( this.data.campusArray[typeof this.data.campusArrayIndex === \"object\" ? JSON.stringify( this.data.campusArrayIndex) : this.data.campusArrayIndex]) : this.data.campusArray[typeof this.data.campusArrayIndex === \"object\" ? JSON.stringify( this.data.campusArrayIndex) : this.data.campusArrayIndex]}        </picker>      </view>            <view class=\"add_block\" style=\"align-items: center; background-color: rgb(245, 245, 245); border-radius: 20rpx; display: flex; flex-direction: row; height: 80rpx; margin: 20rpx 0; padding: 0 20rpx; width: 80%;\">        <label style=\"font-size: 14px; font-weight: 600; width: 20%;\">教学楼</label>        <picker range_key=\"mc\" value=\"${typeof this.data.classIndex === \"object\" ? JSON.stringify( this.data.classIndex) : this.data.classIndex}\" range=\"${typeof this.data.classArray === \"object\" ? JSON.stringify( this.data.classArray) : this.data.classArray}\" bindchange=\"bindxqChange\">          ${typeof this.data.classArray[typeof this.data.classIndex === \"object\" ? JSON.stringify( this.data.classIndex) : this.data.classIndex].mc === \"object\" ? JSON.stringify( this.data.classArray[typeof this.data.classIndex === \"object\" ? JSON.stringify( this.data.classIndex) : this.data.classIndex].mc) : this.data.classArray[typeof this.data.classIndex === \"object\" ? JSON.stringify( this.data.classIndex) : this.data.classIndex].mc}        </picker>      </view>            <view class=\"add_week_title\" style=\"align-items: center; display: flex; height: 80rpx; justify-content: flex-start; width: 80%;\">        <label style=\"font-size: 14px; font-weight: 600;\">节次（点亮即代表选择）</label>      </view>      <view class=\"add_week\" style=\"align-content: center; display: flex; flex-wrap: wrap; width: 85%;\">        ${this.data.week.map((item, index) =>  ` <view style=\"add_weekBtn\"  wx:key=\"key\" style=\"align-items: center; display: flex; height: 50rpx; justify-content: center; margin: 10rpx 0; width: 25%;\">          <label id=\"${typeof index === \"object\" ? JSON.stringify( index) : index}\" bindtap=\"changeWB\" style=\"${typeof item === \"object\" ? JSON.stringify( item) : item?\"wx&class       ;        background     :      rgb(8      ,       178      ,       255)      ;        color     :      rgb(245      ,      245      ,      245) !important      ;        border     :      none !important      ;      \":\"wx&class       ;        color     :      rgb(100      ,       100      ,       100)      ;      \"}\" style=\"align-items: center; border: 1rpx rgba(200, 200, 200, 0.6) solid; border-radius: 20rpx; color: rgb(100, 100, 100); display: flex; height: 100%; justify-content: center; width: 95%;\">            ${typeof index === \"object\" ? JSON.stringify( index) : index+1}          </label>        </view>`)}      </view>            <view class=\"add_btn\" style=\"align-items: center; display: flex; flex-direction: row; justify-content: center; margin: 70rpx 0 50rpx; width: 85%;\">        <button bindtap=\"block_show\" style=\"background-color: rgb(245, 245, 245); border-radius: 50rpx; color: gray; size: 16px; width: 45% !important;\">取 消</button>        <button bindtap=\"addSubmit\" style=\"${typeof this.data.addSubmitStyle === \"object\" ? JSON.stringify( this.data.addSubmitStyle) : this.data.addSubmitStyle?\"wx&class    ;     background-color   :   rgb(20  ,   205  ,   255) !important   ;     color   :    #fff !important   ;   \":\"\"}\" disabled=\"${!typeof this.data.addSubmitStyle === \"object\" ? JSON.stringify( this.data.addSubmitStyle) : this.data.addSubmitStyle}\" style=\"background-color: rgb(245, 245, 245); border-radius: 50rpx; color: gray; size: 16px; width: 45% !important;\">查 询</button>      </view>    </view>  </view>`: `2`}</view>`\n            this.setData({html : this.parse(html)});\n          },\n            \n\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    Totalnumber: 0,\n    week: [],\n    list: [{\n      jxcddm: 'sdsd',\n      jxcdmc: 'sdsd',\n      jxcdbh: 'sdsd',\n      xqmc: 'sdsd',\n      jzwmc: 'sdsd',\n      rnskrs: 'sdsd'\n    },\n    {\n      jxcddm: 'sdsd',\n      jxcdmc: 'sdsd',\n      jxcdbh: 'sdsd',\n      xqmc: 'sdsd',\n      jzwmc: 'sdsd',\n      rnskrs: 'sdsd'\n    }],\n    achievement: [],\n    array: [],\n    color: [\"#11c1f3\",\"#886aea\",\"#33cd5f\",\"#ffc900\"],\n    block_show: true,\n    skrw: '',\n    date: new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getDate(),\n    index: 0,\n    campusArrayIndex: 0,\n    campusArray: ['官渡校区', '西城校区', '光华校区'],\n    classIndex: 0,\n    classArray: [{\n      \"dm\": \"1\",\n      \"mc\": \"主教\"\n    }, {\n      \"dm\": \"2\",\n      \"mc\": \"二教A\"\n    }, {\n      \"dm\": \"6\",\n      \"mc\": \"二教B\"\n    }, {\n      \"dm\": \"7\",\n      \"mc\": \"其它\"\n    }, {\n      \"dm\": \"8\",\n      \"mc\": \"实验\"\n    }, {\n      \"dm\": \"9\",\n      \"mc\": \"体育场地(官渡)\"\n    }],\n    cookies: '',\n  },\n  bindDateChange: function (e) { //获取倒数日日期\n    this.setdata({\n      date: e.detail.value\n    })\n  },\n  bindxqChange: function (e) { //获取倒数日日期\n    this.setdata({\n      classIndex: e.detail.value\n    })\n  },\n  bindCampushange: function (e) {\n    console.log(e.detail.value)\n    if (e.detail.value === '1') {\n      this.data.classArray = [{\n        \"dm\": \"103428603\",\n        \"mc\": \"体育场地(西城)\"\n      }, {\n        \"dm\": \"103589811\",\n        \"mc\": \"西城教学综合体\"\n      }, {\n        \"dm\": \"103596671\",\n        \"mc\": \"外语楼\"\n      }, {\n        \"dm\": \"103956660\",\n        \"mc\": \"东创楼\"\n      }, {\n        \"dm\": \"103978463\",\n        \"mc\": \"石油大楼\"\n      }, {\n        \"dm\": \"104659964\",\n        \"mc\": \"化学楼\"\n      }, {\n        \"dm\": \"104835722\",\n        \"mc\": \"双创楼\"\n      }, {\n        \"dm\": \"105252604\",\n        \"mc\": \"生食学院楼\"\n      }]\n    } else if (e.detail.value === '2') {\n      this.data.classArray = [{\n        \"dm\": \"101958392\",\n        \"mc\": \"体育场地(光华)\"\n      }, {\n        \"dm\": \"3\",\n        \"mc\": \"光华2号楼\"\n      }, {\n        \"dm\": \"4\",\n        \"mc\": \"光华3号楼\"\n      }, {\n        \"dm\": \"5\",\n        \"mc\": \"光华1号楼\"\n      }]\n    } else {\n      this.data.classArray = [{\n        \"dm\": \"1\",\n        \"mc\": \"主教\"\n      }, {\n        \"dm\": \"2\",\n        \"mc\": \"二教A\"\n      }, {\n        \"dm\": \"6\",\n        \"mc\": \"二教B\"\n      }, {\n        \"dm\": \"7\",\n        \"mc\": \"其它\"\n      }, {\n        \"dm\": \"8\",\n        \"mc\": \"实验\"\n      }, {\n        \"dm\": \"9\",\n        \"mc\": \"体育场地(官渡)\"\n      }]\n    }\n    this.setdata({\n      campusArrayIndex: e.detail.value,\n      classArray: this.data.classArray\n    })\n  },\n\n  changeWB(e) {\n    var id = e.currentTarget.id\n    this.data.week[id] = !this.data.week[id]\n    let addSubmitStyle = false\n    for(let i in this.data.week){\n      if(this.data.week[i] === true){\n        addSubmitStyle = true;\n      }\n    }\n    this.setdata({\n      week: this.data.week,\n      addSubmitStyle\n    })\n\n  },\n\n  onLoad: function () {options = this.options; this.data.dark =wx.getSystemInfoSync().theme; wx.onThemeChange(e => {console.log(e.theme);this.setdata({dark: e.theme})}); this.setdata();\n    app.loginState();\n    this.data.week = new Array(10)\n    for (let i = 0; i < this.data.week.length; i++) {\n      this.data.week[i] = false;\n    }\n    this.setdata({\n      week: this.data.week\n    })\n  },\n\n  addSubmit: function (e) {\n    let jc = []\n    for (let i in this.data.week) {\n      if (this.data.week[i]) {\n        jc.push(Number(i) + 1 < 10 ? '0' + (Number(i) + 1) : Number(i) + 1)\n      }\n    }\n    console.log(jc.toString())\n    var that = this\n    wx.showLoading({\n      title: '查询中',\n      mask: true\n    })\n    wx.request({\n      url: 'https://jwxt.gdupt.edu.cn/',\n      method: 'post',\n      success: function (res) {\n        wx.request({\n          url: 'https://jwxt.gdupt.edu.cn/login!doLogin.action',\n          method: 'post',\n          data: {\n            account: app.globalData.username,\n            pwd: app.globalData.pwd,\n            verifycode: ''\n          },\n          header: {\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n            'Accept': 'application/json, text/javascript, */*; q=0.01',\n            'Cookie': res.cookies[0]\n          },\n          success: function (res1) {\n            if (res1.data.msg == \"/login!welcome.action\") {\n              that.data.cookies = res.cookies[0];\n              const header = {\n                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                'Accept': 'application/json, text/javascript, */*; q=0.01',\n                'Cookie': res.cookies[0]\n              }\n              wx.request({\n                url: 'https://jwxt.gdupt.edu.cn/teajssqxx!getZCXQByRq.action?date=' + new Date().getFullYear() + '-' + (new Date().getMonth() + 1) + '-' + (Number(new Date().getDate()) < 10 ? '0' + new Date().getDate() : new Date().getDate()),\n                method: 'get',\n                header,\n                success: function (data1) {\n                  let data2 = {\n                    order: 'asc',\n                    sort: 'jxcdbh',\n                    rows: '50',\n                    jc : String(jc),\n                    isqy: '1',\n                    page: '1',\n                    xnxqdm: new Date().getMonth() < 7 ? (new Date().getFullYear() - 1) + '02' : (new Date().getFullYear()) + '01',\n                    xq: data1.data.xqxh,\n                    ssjzwdm: that.data.classArray[that.data.classIndex].dm\n                  }\n                  Object.assign(data2,data1.data)\n                  let url = Object.keys(data2).map(function (key) {\n                    // body...\n                    return encodeURIComponent(key) + \"=\" + encodeURIComponent(data2[key]);\n                  }).join(\"&\")\n                  wx.request({\n                    url: 'https://jwxt.gdupt.edu.cn/teajssqxx!getPlJsDataList.action?primarySort=jxcddm%20desc',\n                    method: 'get',\n                    header: {\n                      'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                      'Accept': 'application/json, text/javascript, */*; q=0.01',\n                      'Cookie': that.data.cookies\n                    },\n                    data : data2,\n                    success: function (data3) {\n                      console.log(data3)\n                      if(data3.data.total === 0){\n                        wx.showToast({\n                          icon: 'none',\n                          title: '这个时间段没有空教室',\n                        })\n                      }else{\n                        wx.showToast({\n                          icon: 'onoe',\n                          title: '查询成功',\n                        })\n                        that.xiu(data3.data.rows)\n                      }\n                    }\n                  })\n                }\n              })\n            } else {\n              wx.showToast({\n                icon: 'onoe',\n                title: '登录失败，请重新登录',\n              })\n            }\n\n          }\n\n        })\n\n      },\n      fail(res) {\n\n        wx.showToast({\n          title: '早上7-晚上11才能使用',\n          icon: 'none',\n        });\n      }\n\n    })\n  },\n  xiu: function (kc) {\n    let data = [],\n      color = [],\n      n = 0;\n    let c = [\"#11c1f3\",\"#886aea\",\"#33cd5f\",\"#ffc900\"]\n    for (let i = 0; i < kc.length; i++) {\n        color.push(c[Math.floor(Math.random() * 4) + 0]);\n        data.push(kc[i]);\n    }\n    console.log(data)\n    this.setdata({\n      list: data,\n      block_show: false,\n      color: color,\n      Totalnumber: kc.length\n    })\n  },\n  block_show: function (){\n    this.setdata({\n      block_show: false,\n    })\n  },\n  show: function (){\n    console.log(233)\n    this.setdata({\n      block_show: true,\n    })\n  }\n})\n      \n      \n        }\n            window.exports = runCode;\n        \n            "],"names":[],"sourceRoot":""}